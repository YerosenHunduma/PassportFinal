<%- include ('layouts/header') %>

<h1 class="table">List of courses</h1>

<table border="1px">
  <thead>
    <th>Title</th>
    <th>courseCode</th>
    <th>Remove Course</th>
    <th>Edit Course</th>
  </thead>
  <tbody>
    <% courses.forEach(course => { %>
    <tr>
      <td><%= course.title %></td>
      <td><%= course.courseCode %></td>
      <td>
        <form
          action="/api/registrar/courses/deleteCourse?_method=DELETE"
          method="post"
        >
          <input type="hidden" name="courseId" value="<%= course._id %>" />
          <button type="submit">Delete</button>
        </form>
      </td>
      <td>
        <a href="/api/registrar/courses/course/<%= course._id %>">
          <button type="submit">Edit</button></a
        >
      </td>
    </tr>
    <% }) %>
  </tbody>
</table>
<br /><br />
<h2>Add Course</h2>

<% if (locals.error) { %>
<p style="color: red"><%= locals.error %></p>
<% } %>

<form action="/api/registrar/courses/addCourses" method="post">
  <label for="title">Title:</label>
  <input type="text" id="title" name="title" required />
  <br />
  <label for="courseCode">Course Code:</label>
  <input type="text" id="courseCode" name="courseCode" required />
  <br />

  <button type="submit">Add Course</button>
</form>
<%- include ('layouts/footer') %>
